include ../buttons/buttons.pug

mixin date-dropdown(options = {})
  -
    const {
      label = '',
      value = '',
      modifier = '',
      addClass = '',
      isLabeled,
      filter,
    } = options;

    const CLASS_COMPONENT = 'date-dropdown'
    let className = CLASS_COMPONENT

    if(modifier){
      className += ` ${CLASS_COMPONENT}_${modifier}`
    }
    if(addClass){
      className += ` ${addClass}`
    }

  div(class=`${className} js-${CLASS_COMPONENT}`)
    - let num = filter ? 1 : 2;
    - for(let i=0; i<num; i++)  {
        div(class=`${CLASS_COMPONENT}__date-wrapper`)

          - if(!isLabeled){
              p(class=`${CLASS_COMPONENT}__label-text`)= label[i]
          -}

          label(class=`${CLASS_COMPONENT}__label`)

            -if(filter){
                input(class=`${CLASS_COMPONENT}__input js-${CLASS_COMPONENT}__input` type='text' placeholder=''  autocomplete='off')
                input(class=`${CLASS_COMPONENT}__input-hidden js-${CLASS_COMPONENT}__input-hidden` type='hidden' value=value name='date-filter')
            -}else{
                input(class=`${CLASS_COMPONENT}__input js-${CLASS_COMPONENT}__input` type='text' placeholder='' value=value name='date-'+i autocomplete='off')
            -}
            
            img(class=`${CLASS_COMPONENT}__tip` src=require('./img/tip.svg') alt='уголок')
    -}

    div(class=`${CLASS_COMPONENT}__datepicker-wrapper js-${CLASS_COMPONENT}__datepicker-wrapper`)
      div(class=`${CLASS_COMPONENT}__datepicker js-${CLASS_COMPONENT}__datepicker`)
      div(class=`${CLASS_COMPONENT}__datepicker-buttons`)
      
        div(class=`${CLASS_COMPONENT}__clear js-${CLASS_COMPONENT}__clear`)
          +buttons({
            text:'очистить',
            type:'button',
            modifier:['text']
          })

        div(class=`${CLASS_COMPONENT}__apply js-${CLASS_COMPONENT}__apply`)
          +buttons({
            text:'применить',
            type:'button',
            modifier:['text']
          })
